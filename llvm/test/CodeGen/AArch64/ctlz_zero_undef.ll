; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc < %s --mtriple=aarch64 | FileCheck %s

declare i8 @llvm.ctlz.i8(i8, i1 immarg)

define i32 @clz_nzu8(ptr %num) {
; CHECK-LABEL: clz_nzu8:
; CHECK:       // %bb.0: // %start
; CHECK-NEXT:    ldrb w8, [x0]
; CHECK-NEXT:    lsl w8, w8, #24
; CHECK-NEXT:    clz w0, w8
; CHECK-NEXT:    ret
start:
  %self = load i8, ptr %num, align 1
  %0 = call i8 @llvm.ctlz.i8(i8 %self, i1 true)
  %_0 = zext i8 %0 to i32
  ret i32 %_0
}